<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>GBD.Build.Blackjack: D:/SourceControl/GitRepos/GBD.Build.BlackJack/blackjack/contrib/x_pexpect/pexpect/spawnbase.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GBD.Build.Blackjack
   </div>
   <div id="projectbrief">A Module allowing for the automatic generation of CMakeLists.txt files from within python</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('spawnbase_8py_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">spawnbase.py</div>  </div>
</div><!--header-->
<div class="contents">
<a href="spawnbase_8py.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacepexpect_1_1spawnbase.html">    1</a></span>&#160;<span class="keyword">import</span> codecs</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">import</span> os</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">import</span> sys</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">import</span> re</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">import</span> errno</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">from</span> .exceptions <span class="keyword">import</span> ExceptionPexpect, EOF, TIMEOUT</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">from</span> .expect <span class="keyword">import</span> Expecter, searcher_string, searcher_re</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno"><a class="line" href="namespacepexpect_1_1spawnbase.html#a2298fd748f7dadfc28a3391f4a591f10">    9</a></span>&#160;PY3 = (sys.version_info[0] &gt;= 3)</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">##</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"># A base class providing the backwards-compatible spawn API for Pexpect.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"># </span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">#     This should not be instantiated directly: use :class:`pexpect.spawn` or :class:`pexpect.fdpexpect.fdspawn`.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html">   15</a></span>&#160;<span class="keyword">class </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html">SpawnBase</a>(<a class="code" href="classobject.html">object</a>):</div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a7c285ae5dd176264897f15d47889ad4a">   16</a></span>&#160;    string_type = bytes</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keywordflow">if</span> PY3:</div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a4e20f13bb9e3e6bdb0179f0eba1e1912">   18</a></span>&#160;        allowed_string_types = (bytes, str)</div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a5111c4910bff5a51352c36aebd9df795">   19</a></span>&#160;        linesep = os.linesep.encode(<span class="stringliteral">&#39;ascii&#39;</span>)</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ad64a27a609d96ed9da7775cd9974c231">   20</a></span>&#160;        crlf = <span class="stringliteral">&#39;\r\n&#39;</span>.encode(<span class="stringliteral">&#39;ascii&#39;</span>)</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        @staticmethod</div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ab3c022d1222ea1b6eddc72c98ce6a76c">   23</a></span>&#160;        <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a05e02127b48eac3164d06d4bf51eee13">write_to_stdout</a>(b):</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;            <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                <span class="keywordflow">return</span> sys.stdout.buffer.write(b)</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;            <span class="keywordflow">except</span> AttributeError:</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                <span class="comment"># If stdout has been replaced, it may not have .buffer</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                <span class="keywordflow">return</span> sys.stdout.write(b.decode(<span class="stringliteral">&#39;ascii&#39;</span>, <span class="stringliteral">&#39;replace&#39;</span>))</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        allowed_string_types = (basestring,)  <span class="comment"># analysis:ignore</span></div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ab8c8457cc4aebf2cd47feca0173714aa">   31</a></span>&#160;        linesep = os.linesep</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        crlf = <span class="stringliteral">&#39;\r\n&#39;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a05e02127b48eac3164d06d4bf51eee13">   33</a></span>&#160;        write_to_stdout = sys.stdout.write</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6c5cb80ac646d405122a0ce92d9eb0c1">   35</a></span>&#160;    encoding = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ad51322af96ebf87c9957b33efc0a61ac">   36</a></span>&#160;    pid = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#af06d72aef93c3a6fca03e35944ae179c">   37</a></span>&#160;    flag_eof = <span class="keyword">False</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a0c118f415e1ce576579486307c0c9d04">   39</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a0c118f415e1ce576579486307c0c9d04">__init__</a>(self, timeout=30, maxread=2000, searchwindowsize=None, logfile=None):</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a100ed80e9997c686c282791ec3af86a3">   40</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a100ed80e9997c686c282791ec3af86a3">stdin</a> = sys.stdin</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a9fc071989185f0e9fcbd418142455b7e">   41</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a9fc071989185f0e9fcbd418142455b7e">stdout</a> = sys.stdout</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a22525dc4f8cbd8e0b90af9df6e9aaedb">   42</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a22525dc4f8cbd8e0b90af9df6e9aaedb">stderr</a> = sys.stderr</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a452dbc175441937f78160d3c0d5a656f">   44</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a452dbc175441937f78160d3c0d5a656f">searcher</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a712823c71ea737347a9f4fff9fbebca3">   45</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a712823c71ea737347a9f4fff9fbebca3">ignorecase</a> = <span class="keyword">False</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a600823f23d698102453cdf5cdbf1080a">   46</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a600823f23d698102453cdf5cdbf1080a">before</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a2f64971267af2e1ab61e9894ae711400">   47</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a2f64971267af2e1ab61e9894ae711400">after</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a0af6010fad84bcc4c273394da4e07ca5">   48</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a0af6010fad84bcc4c273394da4e07ca5">match</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a82c3067d97e128932c8a047c095de04c">   49</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a82c3067d97e128932c8a047c095de04c">match_index</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a5c4cd670dbce770527dc67827f7a380e">   50</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a5c4cd670dbce770527dc67827f7a380e">terminated</a> = <span class="keyword">True</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a75d78be4389838387681581be3f1d010">   51</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a75d78be4389838387681581be3f1d010">exitstatus</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a7dfed3a310c69d45884117694a16b73a">   52</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a7dfed3a310c69d45884117694a16b73a">signalstatus</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="comment"># status returned by os.waitpid</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ab3da837f09da519b429322176f765954">   54</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ab3da837f09da519b429322176f765954">status</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="comment"># the child file descriptor is initially closed</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#aff06474e1a8032ec561dc7d7ea2fd224">   56</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#aff06474e1a8032ec561dc7d7ea2fd224">child_fd</a> = -1</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a4465eaf67d3b36f5114b5bc7b670c0fd">   57</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a4465eaf67d3b36f5114b5bc7b670c0fd">timeout</a> = timeout</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6b8b6168716f744c682c1d27351cea5b">   58</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6b8b6168716f744c682c1d27351cea5b">delimiter</a> = EOF</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a717cfc88f0fe2e6faf80027eb797bc6e">   59</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a717cfc88f0fe2e6faf80027eb797bc6e">logfile</a> = logfile</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="comment"># input from child (read_nonblocking)</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a16c2181cab158df1463fb59d1092b287">   61</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a16c2181cab158df1463fb59d1092b287">logfile_read</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="comment"># output to send (send, sendline)</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a1d5363dcca6ab21a0e5f108fc10d4a1e">   63</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a1d5363dcca6ab21a0e5f108fc10d4a1e">logfile_send</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="comment"># max bytes to read at one time into buffer</span></div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8a2cffb207057b77ac77abea20575a59">   65</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8a2cffb207057b77ac77abea20575a59">maxread</a> = maxread</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="comment"># This is the read buffer. See maxread.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#afc650f0a4feab368a22d6127332d1a3c">   67</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#afc650f0a4feab368a22d6127332d1a3c">buffer</a> = self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a7c285ae5dd176264897f15d47889ad4a">string_type</a>()</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="comment"># Data before searchwindowsize point is preserved, but not searched.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a81062b19e7d5aca9fe74859ce10dd175">   69</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a81062b19e7d5aca9fe74859ce10dd175">searchwindowsize</a> = searchwindowsize</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="comment"># Delay used before sending data to child. Time in seconds.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="comment"># Most Linux machines don&#39;t like this to be below 0.03 (30 ms).</span></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6c38076a1259ff17b230066e77f0c3de">   72</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6c38076a1259ff17b230066e77f0c3de">delaybeforesend</a> = 0.05</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="comment"># Used by close() to give kernel time to update process status.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="comment"># Time in seconds.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a2d3f05392d1d43ce1ccc86d42340850e">   75</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a2d3f05392d1d43ce1ccc86d42340850e">delayafterclose</a> = 0.1</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="comment"># Used by terminate() to give kernel time to update process status.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment"># Time in seconds.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8aad2f7d3ce61f8855abdf49659f2353">   78</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8aad2f7d3ce61f8855abdf49659f2353">delayafterterminate</a> = 0.1</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a32f32a35465214a5bae5f2b1d19940c6">   79</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a32f32a35465214a5bae5f2b1d19940c6">softspace</a> = <span class="keyword">False</span></div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a538d49f1fc7d76a23ce6e1664401718b">   80</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a538d49f1fc7d76a23ce6e1664401718b">name</a> = <span class="stringliteral">&#39;&lt;&#39;</span> + repr(self) + <span class="stringliteral">&#39;&gt;&#39;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a17aab89e3b2bdd1dc12281bc1553213c">   81</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a17aab89e3b2bdd1dc12281bc1553213c">closed</a> = <span class="keyword">True</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a790d597afb11bdd5042c29aa3026ee13">   83</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a790d597afb11bdd5042c29aa3026ee13">_log</a>(self, s, direction):</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a717cfc88f0fe2e6faf80027eb797bc6e">logfile</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            self.logfile.write(s)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            self.logfile.flush()</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        second_log = self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a1d5363dcca6ab21a0e5f108fc10d4a1e">logfile_send</a> <span class="keywordflow">if</span> (direction==<span class="stringliteral">&#39;send&#39;</span>) <span class="keywordflow">else</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a16c2181cab158df1463fb59d1092b287">logfile_read</a></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">if</span> second_log <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            second_log.write(s)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            second_log.flush()</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    @staticmethod</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ac7be1b478304295660d700ca9b5190a5">   93</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ac7be1b478304295660d700ca9b5190a5">_coerce_expect_string</a>(s):</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(s, bytes):</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordflow">return</span> s.encode(<span class="stringliteral">&#39;ascii&#39;</span>)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">return</span> s</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    @staticmethod</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#abeba27d095143d43c1684a227281654b">   99</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#abeba27d095143d43c1684a227281654b">_coerce_send_string</a>(s):</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(s, bytes):</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">return</span> s.encode(<span class="stringliteral">&#39;utf-8&#39;</span>)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">return</span> s</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    @staticmethod</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a813cc45a9e0d274379ba12f77866ae0b">  105</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a813cc45a9e0d274379ba12f77866ae0b">_coerce_read_string</a>(s):</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">return</span> s</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment"># This reads data from the file descriptor.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">#         This is a simple implementation suitable for a regular file. Subclasses using ptys or pipes should override it.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">#         The timeout parameter is ignored.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">#         </span></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a2c66f14eda92cd66d7e3d2304bbc30a8">  115</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a2c66f14eda92cd66d7e3d2304bbc30a8">read_nonblocking</a>(self, size=1, timeout=None):</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            s = os.read(self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#aff06474e1a8032ec561dc7d7ea2fd224">child_fd</a>, size)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">except</span> OSError <span class="keyword">as</span> err:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">if</span> err.args[0] == errno.EIO:</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <span class="comment"># Linux-style EOF</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#af06d72aef93c3a6fca03e35944ae179c">flag_eof</a> = <span class="keyword">True</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="keywordflow">raise</span> EOF(<span class="stringliteral">&#39;End Of File (EOF). Exception style platform.&#39;</span>)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="keywordflow">raise</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">if</span> s == b<span class="stringliteral">&#39;&#39;</span>:</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="comment"># BSD-style EOF</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#af06d72aef93c3a6fca03e35944ae179c">flag_eof</a> = <span class="keyword">True</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="keywordflow">raise</span> EOF(<span class="stringliteral">&#39;End Of File (EOF). Empty string style platform.&#39;</span>)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        s = self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a813cc45a9e0d274379ba12f77866ae0b">_coerce_read_string</a>(s)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a790d597afb11bdd5042c29aa3026ee13">_log</a>(s, <span class="stringliteral">&#39;read&#39;</span>)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">return</span> s</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a080b799c4a7577639ff1b845f222f85f">  134</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a080b799c4a7577639ff1b845f222f85f">_pattern_type_err</a>(self, pattern):</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;got {badtype} ({badobj!r}) as pattern, must be one&#39;</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                        <span class="stringliteral">&#39; of: {goodtypes}, pexpect.EOF, pexpect.TIMEOUT&#39;</span>\</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                        .format(badtype=type(pattern),</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                badobj=pattern,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                goodtypes=<span class="stringliteral">&#39;, &#39;</span>.join([str(ast)\</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                    <span class="keywordflow">for</span> ast <span class="keywordflow">in</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a4e20f13bb9e3e6bdb0179f0eba1e1912">allowed_string_types</a>])</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                                )</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                        )</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment"># This compiles a pattern-string or a list of pattern-strings.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">#         Patterns must be a StringType, EOF, TIMEOUT, SRE_Pattern, or a list of</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">#         those. Patterns may also be None which results in an empty list (you</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">#         might do this if waiting for an EOF or TIMEOUT condition without</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">#         expecting any pattern).</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">#         This is used by expect() when calling expect_list(). Thus expect() is</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">#         nothing more than::</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">#              cpl = self.compile_pattern_list(pl)</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">#              return self.expect_list(cpl, timeout)</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">#         If you are using expect() within a loop it may be more</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">#         efficient to compile the patterns first and then call expect_list().</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">#         This avoid calls in a loop to compile_pattern_list()::</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">#              cpl = self.compile_pattern_list(my_pattern)</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">#              while some_condition:</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">#                 ...</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">#                 i = self.expect_list(cpl, timeout)</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">#                 ...</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">#         </span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#abef76b3ef05bde868c2761afcb83e0ed">  167</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#abef76b3ef05bde868c2761afcb83e0ed">compile_pattern_list</a>(self, patterns):</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">if</span> patterns <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">return</span> []</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(patterns, list):</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            patterns = [patterns]</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="comment"># Allow dot to match \n</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        compile_flags = re.DOTALL</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a712823c71ea737347a9f4fff9fbebca3">ignorecase</a>:</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            compile_flags = compile_flags | re.IGNORECASE</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        compiled_pattern_list = []</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">for</span> idx, p <span class="keywordflow">in</span> enumerate(patterns):</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordflow">if</span> isinstance(p, self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a4e20f13bb9e3e6bdb0179f0eba1e1912">allowed_string_types</a>):</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                p = self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ac7be1b478304295660d700ca9b5190a5">_coerce_expect_string</a>(p)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                compiled_pattern_list.append(re.compile(p, compile_flags))</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">elif</span> p <span class="keywordflow">is</span> EOF:</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                compiled_pattern_list.append(EOF)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">elif</span> p <span class="keywordflow">is</span> TIMEOUT:</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                compiled_pattern_list.append(TIMEOUT)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="keywordflow">elif</span> isinstance(p, type(re.compile(<span class="stringliteral">&#39;&#39;</span>))):</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                compiled_pattern_list.append(p)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a080b799c4a7577639ff1b845f222f85f">_pattern_type_err</a>(p)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span> compiled_pattern_list</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment"># This seeks through the stream until a pattern is matched. The</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">#         pattern is overloaded and may take several types. The pattern can be a</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">#         StringType, EOF, a compiled re, or a list of any of those types.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">#         Strings will be compiled to re types. This returns the index into the</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">#         pattern list. If the pattern was not a list this returns index 0 on a</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">#         successful match. This may raise exceptions for EOF or TIMEOUT. To</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">#         avoid the EOF or TIMEOUT exceptions add EOF or TIMEOUT to the pattern</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">#         list. That will cause expect to match an EOF or TIMEOUT condition</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">#         instead of raising an exception.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">#         If you pass a list of patterns and more than one matches, the first</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">#         match in the stream is chosen. If more than one pattern matches at that</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">#         point, the leftmost in the pattern list is chosen. For example::</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">#             # the input is &#39;foobar&#39;</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">#             index = p.expect([&#39;bar&#39;, &#39;foo&#39;, &#39;foobar&#39;])</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">#             # returns 1(&#39;foo&#39;) even though &#39;foobar&#39; is a &quot;better&quot; match</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">#         Please note, however, that buffering can affect this behavior, since</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">#         input arrives in unpredictable chunks. For example::</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">#             # the input is &#39;foobar&#39;</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">#             index = p.expect([&#39;foobar&#39;, &#39;foo&#39;])</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">#             # returns 0(&#39;foobar&#39;) if all input is available at once,</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">#             # but returs 1(&#39;foo&#39;) if parts of the final &#39;bar&#39; arrive late</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">#         After a match is found the instance attributes &#39;before&#39;, &#39;after&#39; and</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">#         &#39;match&#39; will be set. You can see all the data read before the match in</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">#         &#39;before&#39;. You can see the data that was matched in &#39;after&#39;. The</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">#         re.MatchObject used in the re match will be in &#39;match&#39;. If an error</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">#         occurred then &#39;before&#39; will be set to all the data read so far and</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">#         &#39;after&#39; and &#39;match&#39; will be None.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">#         If timeout is -1 then timeout will be set to the self.timeout value.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">#         A list entry may be EOF or TIMEOUT instead of a string. This will</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="comment">#         catch these exceptions and return the index of the list entry instead</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">#         of raising the exception. The attribute &#39;after&#39; will be set to the</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">#         exception type. The attribute &#39;match&#39; will be None. This allows you to</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">#         write code like this::</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">#                 index = p.expect([&#39;good&#39;, &#39;bad&#39;, pexpect.EOF, pexpect.TIMEOUT])</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">#                 if index == 0:</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">#                     do_something()</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">#                 elif index == 1:</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">#                     do_something_else()</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">#                 elif index == 2:</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">#                     do_some_other_thing()</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">#                 elif index == 3:</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">#                     do_something_completely_different()</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">#         instead of code like this::</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">#                 try:</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">#                     index = p.expect([&#39;good&#39;, &#39;bad&#39;])</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">#                     if index == 0:</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">#                         do_something()</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">#                     elif index == 1:</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">#                         do_something_else()</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">#                 except EOF:</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">#                     do_some_other_thing()</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">#                 except TIMEOUT:</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">#                     do_something_completely_different()</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">#         These two forms are equivalent. It all depends on what you want. You</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">#         can also just expect the EOF if you are waiting for all output of a</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">#         child to finish. For example::</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">#                 p = pexpect.spawn(&#39;/bin/ls&#39;)</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">#                 p.expect(pexpect.EOF)</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">#                 print p.before</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">#         If you are trying to optimize for speed then see expect_list().</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">#         On Python 3.4, or Python 3.3 with asyncio installed, passing</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">#         ``async=True``  will make this return an :mod:`asyncio` coroutine,</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">#         which you can yield from to get the same result that this method would</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">#         normally give directly. So, inside a coroutine, you can replace this code::</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">#             index = p.expect(patterns)</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">#         With this non-blocking form::</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">#             index = yield from p.expect(patterns, async=True)</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">#         </span></div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a64bcc4004b10458ee5c1ed5e07c401c6">  279</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a64bcc4004b10458ee5c1ed5e07c401c6">expect</a>(self, pattern, timeout=-1, searchwindowsize=-1, async=False):</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        compiled_pattern_list = self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#abef76b3ef05bde868c2761afcb83e0ed">compile_pattern_list</a>(pattern)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ad873e0ee0eb68d4587160404b1078831">expect_list</a>(compiled_pattern_list,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                timeout, searchwindowsize, async)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment"># This takes a list of compiled regular expressions and returns the</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">#         index into the pattern_list that matched the child output. The list may</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">#         also contain EOF or TIMEOUT(which are not compiled regular</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">#         expressions). This method is similar to the expect() method except that</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">#         expect_list() does not recompile the pattern list on every call. This</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">#         may help if you are trying to optimize for speed, otherwise just use</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">#         the expect() method.  This is called by expect(). If timeout==-1 then</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">#         the self.timeout value is used. If searchwindowsize==-1 then the</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">#         self.searchwindowsize value is used.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">#         Like :meth:`expect`, passing ``async=True`` will make this return an</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">#         asyncio coroutine.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">#         </span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ad873e0ee0eb68d4587160404b1078831">expect_list</a>(self, pattern_list, timeout=-1, searchwindowsize=-1,</div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ad873e0ee0eb68d4587160404b1078831">  300</a></span>&#160;                    async=<span class="keyword">False</span>):</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">if</span> timeout == -1:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            timeout = self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a4465eaf67d3b36f5114b5bc7b670c0fd">timeout</a></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        exp = Expecter(self, searcher_re(pattern_list), searchwindowsize)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">if</span> async:</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keyword">from</span> .async <span class="keyword">import</span> expect_async</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespacepexpect_1_1async.html#a2416440e5049a436e66c5d95a641c4e4">expect_async</a>(exp, timeout)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keywordflow">return</span> exp.expect_loop(timeout)</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment"># This is similar to expect(), but uses plain string matching instead</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">#         of compiled regular expressions in &#39;pattern_list&#39;. The &#39;pattern_list&#39;</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="comment">#         may be a string; a list or other sequence of strings; or TIMEOUT and</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">#         EOF.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">#         This call might be faster than expect() for two reasons: string</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">#         searching is faster than RE matching and it is possible to limit the</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">#         search to just the end of the input buffer.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">#         This method is also useful when you don&#39;t want to have to worry about</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">#         escaping regular expression characters that you want to match.</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">#         Like :meth:`expect`, passing ``async=True`` will make this return an</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">#         asyncio coroutine.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">#         </span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a5eb06c1a10c8ea46840462d3ef5d9336">expect_exact</a>(self, pattern_list, timeout=-1, searchwindowsize=-1,</div>
<div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a5eb06c1a10c8ea46840462d3ef5d9336">  328</a></span>&#160;                     async=<span class="keyword">False</span>):</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">if</span> timeout == -1:</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            timeout = self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a4465eaf67d3b36f5114b5bc7b670c0fd">timeout</a></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">if</span> (isinstance(pattern_list, self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a4e20f13bb9e3e6bdb0179f0eba1e1912">allowed_string_types</a>) <span class="keywordflow">or</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                pattern_list <span class="keywordflow">in</span> (TIMEOUT, EOF)):</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            pattern_list = [pattern_list]</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keyword">def </span>prepare_pattern(pattern):</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordflow">if</span> pattern <span class="keywordflow">in</span> (TIMEOUT, EOF):</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <span class="keywordflow">return</span> pattern</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="keywordflow">if</span> isinstance(pattern, self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a4e20f13bb9e3e6bdb0179f0eba1e1912">allowed_string_types</a>):</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="keywordflow">return</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ac7be1b478304295660d700ca9b5190a5">_coerce_expect_string</a>(pattern)</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a080b799c4a7577639ff1b845f222f85f">_pattern_type_err</a>(pattern)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            pattern_list = iter(pattern_list)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a080b799c4a7577639ff1b845f222f85f">_pattern_type_err</a>(pattern_list)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        pattern_list = [prepare_pattern(p) <span class="keywordflow">for</span> p <span class="keywordflow">in</span> pattern_list]</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        exp = Expecter(self, searcher_string(pattern_list), searchwindowsize)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">if</span> async:</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keyword">from</span> .async <span class="keyword">import</span> expect_async</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespacepexpect_1_1async.html#a2416440e5049a436e66c5d95a641c4e4">expect_async</a>(exp, timeout)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keywordflow">return</span> exp.expect_loop(timeout)</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment"># This is the common loop used inside expect. The &#39;searcher&#39; should be</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">#         an instance of searcher_re or searcher_string, which describes how and</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">#         what to search for in the input.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">#         See expect() for other arguments, return value and exceptions. </span></div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#aa5b0cf1a877881893628a1e480bdc67b">  363</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#aa5b0cf1a877881893628a1e480bdc67b">expect_loop</a>(self, searcher, timeout=-1, searchwindowsize=-1):</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        exp = Expecter(self, searcher, searchwindowsize)</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">return</span> exp.expect_loop(timeout)</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment"># This reads at most &quot;size&quot; bytes from the file (less if the read hits</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">#         EOF before obtaining size bytes). If the size argument is negative or</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">#         omitted, read all data until EOF is reached. The bytes are returned as</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">#         a string object. An empty string is returned when EOF is encountered</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">#         immediately. </span></div>
<div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a40033dc573acac997982078f9878cdc6">  374</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a40033dc573acac997982078f9878cdc6">read</a>(self, size=-1):</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">if</span> size == 0:</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">return</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a7c285ae5dd176264897f15d47889ad4a">string_type</a>()</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">if</span> size &lt; 0:</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="comment"># delimiter default is EOF</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a64bcc4004b10458ee5c1ed5e07c401c6">expect</a>(self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6b8b6168716f744c682c1d27351cea5b">delimiter</a>)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="keywordflow">return</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a600823f23d698102453cdf5cdbf1080a">before</a></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="comment"># I could have done this more directly by not using expect(), but</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="comment"># I deliberately decided to couple read() to expect() so that</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="comment"># I would catch any bugs early and ensure consistant behavior.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="comment"># It&#39;s a little less efficient, but there is less for me to</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="comment"># worry about if I have to later modify read() or expect().</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="comment"># Note, it&#39;s OK if size==-1 in the regex. That just means it</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="comment"># will never match anything in which case we stop only on EOF.</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        cre = re.compile(self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ac7be1b478304295660d700ca9b5190a5">_coerce_expect_string</a>(<span class="stringliteral">&#39;.{%d}&#39;</span> % size), re.DOTALL)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="comment"># delimiter default is EOF</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        index = self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a64bcc4004b10458ee5c1ed5e07c401c6">expect</a>([cre, self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6b8b6168716f744c682c1d27351cea5b">delimiter</a>])</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">if</span> index == 0:</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="comment">### FIXME self.before should be &#39;&#39;. Should I assert this?</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">return</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a2f64971267af2e1ab61e9894ae711400">after</a></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a600823f23d698102453cdf5cdbf1080a">before</a></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment"># This reads and returns one entire line. The newline at the end of</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">#         line is returned as part of the string, unless the file ends without a</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">#         newline. An empty string is returned if EOF is encountered immediately.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">#         This looks for a newline as a CR/LF pair (\\r\\n) even on UNIX because</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">#         this is what the pseudotty device returns. So contrary to what you may</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">#         expect you will receive newlines as \\r\\n.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment"># </span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">#         If the size argument is 0 then an empty string is returned. In all</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">#         other cases the size argument is ignored, which is not standard</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">#         behavior for a file-like object. </span></div>
<div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8757c3a611ac8e3d108de93294157be7">  409</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8757c3a611ac8e3d108de93294157be7">readline</a>(self, size=-1):</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">if</span> size == 0:</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="keywordflow">return</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a7c285ae5dd176264897f15d47889ad4a">string_type</a>()</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="comment"># delimiter default is EOF</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        index = self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a64bcc4004b10458ee5c1ed5e07c401c6">expect</a>([self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ad64a27a609d96ed9da7775cd9974c231">crlf</a>, self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6b8b6168716f744c682c1d27351cea5b">delimiter</a>])</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">if</span> index == 0:</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="keywordflow">return</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a600823f23d698102453cdf5cdbf1080a">before</a> + self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ad64a27a609d96ed9da7775cd9974c231">crlf</a></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <span class="keywordflow">return</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a600823f23d698102453cdf5cdbf1080a">before</a></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment"># This is to support iterators over a file-like object.</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">#         </span></div>
<div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ab25c22e955b881e7e1a63aae0a75b059">  423</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ab25c22e955b881e7e1a63aae0a75b059">__iter__</a>(self):</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">return</span> iter(self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8757c3a611ac8e3d108de93294157be7">readline</a>, self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a7c285ae5dd176264897f15d47889ad4a">string_type</a>())</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment"># This reads until EOF using readline() and returns a list containing</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">#         the lines thus read. The optional &#39;sizehint&#39; argument is ignored.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">#         Remember, because this reads until EOF that means the child</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">#         process should have closed its stdout. If you run this method on</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">#         a child that is still running with its stdout open then this</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="comment">#         method will block until it timesout.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a669cf3b2a42313556276c3f5cc7e0525">  433</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a669cf3b2a42313556276c3f5cc7e0525">readlines</a>(self, sizehint=-1):</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        lines = []</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            line = self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8757c3a611ac8e3d108de93294157be7">readline</a>()</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> line:</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                <span class="keywordflow">break</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            lines.append(line)</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">return</span> lines</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment"># Expose file descriptor for a file-like interface</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">#         </span></div>
<div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#af9aedec827586d61bcd6251f1eff8bd3">  446</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#af9aedec827586d61bcd6251f1eff8bd3">fileno</a>(self):</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#aff06474e1a8032ec561dc7d7ea2fd224">child_fd</a></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment"># This does nothing. It is here to support the interface for a</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="comment">#         File-like object. </span></div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a3f025ba6bbdd6b4b00d8cf3615545d5c">  452</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a3f025ba6bbdd6b4b00d8cf3615545d5c">flush</a>(self):</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">pass</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">##</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment"># Overridden in subclass using tty</span></div>
<div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8d7d87f24fc4c03992518bbe6482fe97">  457</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8d7d87f24fc4c03992518bbe6482fe97">isatty</a>(self):</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="comment"># For &#39;with spawn(...) as child:&#39;</span></div>
<div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a9d61f8ff47b64abd791d4861ac3c130d">  461</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a9d61f8ff47b64abd791d4861ac3c130d">__enter__</a>(self):</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">return</span> self</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    </div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a814b984b23876dffc3faba9c9518c8e7">  464</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a814b984b23876dffc3faba9c9518c8e7">__exit__</a>(self, etype, evalue, tb):</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="comment"># We rely on subclasses to implement close(). If they don&#39;t, it&#39;s not</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="comment"># clear what a context manager should do.</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        self.close()</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html">  469</a></span>&#160;<span class="keyword">class </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html">SpawnBaseUnicode</a>(<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html">SpawnBase</a>):</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> PY3:</div>
<div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a875569226cb5bee917d207d940eaff6a">  471</a></span>&#160;        string_type = str</div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#ad9c2154427d2d414c40de37ce12fe038">  472</a></span>&#160;        allowed_string_types = (str, )</div>
<div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a7639b16d28434326e1717953f6477ba4">  473</a></span>&#160;        linesep = os.linesep</div>
<div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a0bd282759b7a3d7289b1051d9a3bfd8c">  474</a></span>&#160;        crlf = <span class="stringliteral">&#39;\r\n&#39;</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        string_type = unicode</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        allowed_string_types = (unicode, )</div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a3a432e7a4231232a3014292418c81210">  478</a></span>&#160;        linesep = os.linesep.decode(<span class="stringliteral">&#39;ascii&#39;</span>)</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        crlf = <span class="stringliteral">&#39;\r\n&#39;</span>.decode(<span class="stringliteral">&#39;ascii&#39;</span>)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="comment"># This can handle unicode in both Python 2 and 3</span></div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a7286fdf866d4707e49aa235f07aed658">  481</a></span>&#160;    write_to_stdout = sys.stdout.write</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a8a0af3f622ad7f0d4994f1c7096280d5">  483</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a8a0af3f622ad7f0d4994f1c7096280d5">__init__</a>(self, *args, **kwargs):</div>
<div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a9af8d6df762d77fdf6bf193b2fe26558">  484</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6c5cb80ac646d405122a0ce92d9eb0c1">encoding</a> = kwargs.pop(<span class="stringliteral">&#39;encoding&#39;</span>, <span class="stringliteral">&#39;utf-8&#39;</span>)</div>
<div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#ab9e887d06187a1f688636efaf4be7b3c">  485</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#ab9e887d06187a1f688636efaf4be7b3c">errors</a> = kwargs.pop(<span class="stringliteral">&#39;errors&#39;</span>, <span class="stringliteral">&#39;strict&#39;</span>)</div>
<div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a7e4ce27f36ab892a8093196ab59daa4c">  486</a></span>&#160;        self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a7e4ce27f36ab892a8093196ab59daa4c">_decoder</a> = codecs.getincrementaldecoder(self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6c5cb80ac646d405122a0ce92d9eb0c1">encoding</a>)(errors=self.<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#ab9e887d06187a1f688636efaf4be7b3c">errors</a>)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        super(SpawnBaseUnicode, self).<a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a8a0af3f622ad7f0d4994f1c7096280d5">__init__</a>(*args, **kwargs)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    @staticmethod</div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a67d0216c7970a44fb9a54ffd387e9d2a">  490</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a67d0216c7970a44fb9a54ffd387e9d2a">_coerce_expect_string</a>(s):</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">return</span> s</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    @staticmethod</div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a5af4d43e2d1f04f801cad12ff855d820">  494</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a5af4d43e2d1f04f801cad12ff855d820">_coerce_send_string</a>(s):</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">return</span> s</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a3d0acde3ae636304aae1462418215a26">  497</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a3d0acde3ae636304aae1462418215a26">_coerce_read_string</a>(self, s):</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">return</span> self._decoder.decode(s, final=<span class="keyword">False</span>)</div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a5c4cd670dbce770527dc67827f7a380e"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a5c4cd670dbce770527dc67827f7a380e">pexpect.spawnbase.SpawnBase.terminated</a></div><div class="ttdeci">terminated</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00050">spawnbase.py:50</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a7dfed3a310c69d45884117694a16b73a"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a7dfed3a310c69d45884117694a16b73a">pexpect.spawnbase.SpawnBase.signalstatus</a></div><div class="ttdeci">signalstatus</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00052">spawnbase.py:52</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a717cfc88f0fe2e6faf80027eb797bc6e"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a717cfc88f0fe2e6faf80027eb797bc6e">pexpect.spawnbase.SpawnBase.logfile</a></div><div class="ttdeci">logfile</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00059">spawnbase.py:59</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_afc650f0a4feab368a22d6127332d1a3c"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#afc650f0a4feab368a22d6127332d1a3c">pexpect.spawnbase.SpawnBase.buffer</a></div><div class="ttdeci">buffer</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00067">spawnbase.py:67</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a40033dc573acac997982078f9878cdc6"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a40033dc573acac997982078f9878cdc6">pexpect.spawnbase.SpawnBase.read</a></div><div class="ttdeci">def read</div><div class="ttdoc">This reads at most "size" bytes from the file (less if the read hits EOF before obtaining size bytes)...</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00374">spawnbase.py:374</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a8d7d87f24fc4c03992518bbe6482fe97"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8d7d87f24fc4c03992518bbe6482fe97">pexpect.spawnbase.SpawnBase.isatty</a></div><div class="ttdeci">def isatty(self)</div><div class="ttdoc">Overridden in subclass using tty. </div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00457">spawnbase.py:457</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a6c5cb80ac646d405122a0ce92d9eb0c1"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6c5cb80ac646d405122a0ce92d9eb0c1">pexpect.spawnbase.SpawnBase.encoding</a></div><div class="ttdeci">encoding</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00035">spawnbase.py:35</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a712823c71ea737347a9f4fff9fbebca3"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a712823c71ea737347a9f4fff9fbebca3">pexpect.spawnbase.SpawnBase.ignorecase</a></div><div class="ttdeci">ignorecase</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00045">spawnbase.py:45</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a2c66f14eda92cd66d7e3d2304bbc30a8"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a2c66f14eda92cd66d7e3d2304bbc30a8">pexpect.spawnbase.SpawnBase.read_nonblocking</a></div><div class="ttdeci">def read_nonblocking</div><div class="ttdoc">This reads data from the file descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00115">spawnbase.py:115</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a17aab89e3b2bdd1dc12281bc1553213c"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a17aab89e3b2bdd1dc12281bc1553213c">pexpect.spawnbase.SpawnBase.closed</a></div><div class="ttdeci">closed</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00081">spawnbase.py:81</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a0af6010fad84bcc4c273394da4e07ca5"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a0af6010fad84bcc4c273394da4e07ca5">pexpect.spawnbase.SpawnBase.match</a></div><div class="ttdeci">match</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00048">spawnbase.py:48</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_unicode_html_a8a0af3f622ad7f0d4994f1c7096280d5"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a8a0af3f622ad7f0d4994f1c7096280d5">pexpect.spawnbase.SpawnBaseUnicode.__init__</a></div><div class="ttdeci">def __init__(self, args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00483">spawnbase.py:483</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a16c2181cab158df1463fb59d1092b287"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a16c2181cab158df1463fb59d1092b287">pexpect.spawnbase.SpawnBase.logfile_read</a></div><div class="ttdeci">logfile_read</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00061">spawnbase.py:61</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_ad873e0ee0eb68d4587160404b1078831"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ad873e0ee0eb68d4587160404b1078831">pexpect.spawnbase.SpawnBase.expect_list</a></div><div class="ttdeci">def expect_list</div><div class="ttdoc">This takes a list of compiled regular expressions and returns the index into the pattern_list that ma...</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00300">spawnbase.py:300</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_ac7be1b478304295660d700ca9b5190a5"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ac7be1b478304295660d700ca9b5190a5">pexpect.spawnbase.SpawnBase._coerce_expect_string</a></div><div class="ttdeci">def _coerce_expect_string(s)</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00093">spawnbase.py:93</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a3f025ba6bbdd6b4b00d8cf3615545d5c"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a3f025ba6bbdd6b4b00d8cf3615545d5c">pexpect.spawnbase.SpawnBase.flush</a></div><div class="ttdeci">def flush(self)</div><div class="ttdoc">This does nothing. </div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00452">spawnbase.py:452</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a81062b19e7d5aca9fe74859ce10dd175"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a81062b19e7d5aca9fe74859ce10dd175">pexpect.spawnbase.SpawnBase.searchwindowsize</a></div><div class="ttdeci">searchwindowsize</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00069">spawnbase.py:69</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a8aad2f7d3ce61f8855abdf49659f2353"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8aad2f7d3ce61f8855abdf49659f2353">pexpect.spawnbase.SpawnBase.delayafterterminate</a></div><div class="ttdeci">delayafterterminate</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00078">spawnbase.py:78</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a6b8b6168716f744c682c1d27351cea5b"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6b8b6168716f744c682c1d27351cea5b">pexpect.spawnbase.SpawnBase.delimiter</a></div><div class="ttdeci">delimiter</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00058">spawnbase.py:58</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_ad64a27a609d96ed9da7775cd9974c231"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ad64a27a609d96ed9da7775cd9974c231">pexpect.spawnbase.SpawnBase.crlf</a></div><div class="ttdeci">string crlf</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00020">spawnbase.py:20</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a2f64971267af2e1ab61e9894ae711400"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a2f64971267af2e1ab61e9894ae711400">pexpect.spawnbase.SpawnBase.after</a></div><div class="ttdeci">after</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00047">spawnbase.py:47</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a22525dc4f8cbd8e0b90af9df6e9aaedb"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a22525dc4f8cbd8e0b90af9df6e9aaedb">pexpect.spawnbase.SpawnBase.stderr</a></div><div class="ttdeci">stderr</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00042">spawnbase.py:42</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_abef76b3ef05bde868c2761afcb83e0ed"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#abef76b3ef05bde868c2761afcb83e0ed">pexpect.spawnbase.SpawnBase.compile_pattern_list</a></div><div class="ttdeci">def compile_pattern_list(self, patterns)</div><div class="ttdoc">This compiles a pattern-string or a list of pattern-strings. </div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00167">spawnbase.py:167</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a4e20f13bb9e3e6bdb0179f0eba1e1912"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a4e20f13bb9e3e6bdb0179f0eba1e1912">pexpect.spawnbase.SpawnBase.allowed_string_types</a></div><div class="ttdeci">tuple allowed_string_types</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00018">spawnbase.py:18</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a64bcc4004b10458ee5c1ed5e07c401c6"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a64bcc4004b10458ee5c1ed5e07c401c6">pexpect.spawnbase.SpawnBase.expect</a></div><div class="ttdeci">def expect</div><div class="ttdoc">This seeks through the stream until a pattern is matched. </div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00279">spawnbase.py:279</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_unicode_html_ab9e887d06187a1f688636efaf4be7b3c"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#ab9e887d06187a1f688636efaf4be7b3c">pexpect.spawnbase.SpawnBaseUnicode.errors</a></div><div class="ttdeci">errors</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00485">spawnbase.py:485</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a8757c3a611ac8e3d108de93294157be7"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8757c3a611ac8e3d108de93294157be7">pexpect.spawnbase.SpawnBase.readline</a></div><div class="ttdeci">def readline</div><div class="ttdoc">This reads and returns one entire line. </div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00409">spawnbase.py:409</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a05e02127b48eac3164d06d4bf51eee13"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a05e02127b48eac3164d06d4bf51eee13">pexpect.spawnbase.SpawnBase.write_to_stdout</a></div><div class="ttdeci">write_to_stdout</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00033">spawnbase.py:33</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a32f32a35465214a5bae5f2b1d19940c6"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a32f32a35465214a5bae5f2b1d19940c6">pexpect.spawnbase.SpawnBase.softspace</a></div><div class="ttdeci">softspace</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00079">spawnbase.py:79</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a9d61f8ff47b64abd791d4861ac3c130d"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a9d61f8ff47b64abd791d4861ac3c130d">pexpect.spawnbase.SpawnBase.__enter__</a></div><div class="ttdeci">def __enter__(self)</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00461">spawnbase.py:461</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a8a2cffb207057b77ac77abea20575a59"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a8a2cffb207057b77ac77abea20575a59">pexpect.spawnbase.SpawnBase.maxread</a></div><div class="ttdeci">maxread</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00065">spawnbase.py:65</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a7c285ae5dd176264897f15d47889ad4a"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a7c285ae5dd176264897f15d47889ad4a">pexpect.spawnbase.SpawnBase.string_type</a></div><div class="ttdeci">string_type</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00016">spawnbase.py:16</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_af06d72aef93c3a6fca03e35944ae179c"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#af06d72aef93c3a6fca03e35944ae179c">pexpect.spawnbase.SpawnBase.flag_eof</a></div><div class="ttdeci">flag_eof</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00037">spawnbase.py:37</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_aff06474e1a8032ec561dc7d7ea2fd224"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#aff06474e1a8032ec561dc7d7ea2fd224">pexpect.spawnbase.SpawnBase.child_fd</a></div><div class="ttdeci">child_fd</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00056">spawnbase.py:56</a></div></div>
<div class="ttc" id="namespacepexpect_1_1async_html_a2416440e5049a436e66c5d95a641c4e4"><div class="ttname"><a href="namespacepexpect_1_1async.html#a2416440e5049a436e66c5d95a641c4e4">pexpect.async.expect_async</a></div><div class="ttdeci">def expect_async</div><div class="ttdef"><b>Definition:</b> <a href="async_8py_source.html#l00007">async.py:7</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a75d78be4389838387681581be3f1d010"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a75d78be4389838387681581be3f1d010">pexpect.spawnbase.SpawnBase.exitstatus</a></div><div class="ttdeci">exitstatus</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00051">spawnbase.py:51</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_unicode_html_a3d0acde3ae636304aae1462418215a26"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a3d0acde3ae636304aae1462418215a26">pexpect.spawnbase.SpawnBaseUnicode._coerce_read_string</a></div><div class="ttdeci">def _coerce_read_string(self, s)</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00497">spawnbase.py:497</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a538d49f1fc7d76a23ce6e1664401718b"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a538d49f1fc7d76a23ce6e1664401718b">pexpect.spawnbase.SpawnBase.name</a></div><div class="ttdeci">name</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00080">spawnbase.py:80</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_unicode_html_a5af4d43e2d1f04f801cad12ff855d820"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a5af4d43e2d1f04f801cad12ff855d820">pexpect.spawnbase.SpawnBaseUnicode._coerce_send_string</a></div><div class="ttdeci">def _coerce_send_string(s)</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00494">spawnbase.py:494</a></div></div>
<div class="ttc" id="classobject_html"><div class="ttname"><a href="classobject.html">object</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a452dbc175441937f78160d3c0d5a656f"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a452dbc175441937f78160d3c0d5a656f">pexpect.spawnbase.SpawnBase.searcher</a></div><div class="ttdeci">searcher</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00044">spawnbase.py:44</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html">pexpect.spawnbase.SpawnBase</a></div><div class="ttdoc">A base class providing the backwards-compatible spawn API for Pexpect. </div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00015">spawnbase.py:15</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a100ed80e9997c686c282791ec3af86a3"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a100ed80e9997c686c282791ec3af86a3">pexpect.spawnbase.SpawnBase.stdin</a></div><div class="ttdeci">stdin</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00040">spawnbase.py:40</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a814b984b23876dffc3faba9c9518c8e7"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a814b984b23876dffc3faba9c9518c8e7">pexpect.spawnbase.SpawnBase.__exit__</a></div><div class="ttdeci">def __exit__(self, etype, evalue, tb)</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00464">spawnbase.py:464</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_ab3da837f09da519b429322176f765954"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ab3da837f09da519b429322176f765954">pexpect.spawnbase.SpawnBase.status</a></div><div class="ttdeci">status</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00054">spawnbase.py:54</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a82c3067d97e128932c8a047c095de04c"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a82c3067d97e128932c8a047c095de04c">pexpect.spawnbase.SpawnBase.match_index</a></div><div class="ttdeci">match_index</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00049">spawnbase.py:49</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_ab25c22e955b881e7e1a63aae0a75b059"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#ab25c22e955b881e7e1a63aae0a75b059">pexpect.spawnbase.SpawnBase.__iter__</a></div><div class="ttdeci">def __iter__(self)</div><div class="ttdoc">This is to support iterators over a file-like object. </div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00423">spawnbase.py:423</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a0c118f415e1ce576579486307c0c9d04"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a0c118f415e1ce576579486307c0c9d04">pexpect.spawnbase.SpawnBase.__init__</a></div><div class="ttdeci">def __init__</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00039">spawnbase.py:39</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_unicode_html_a7e4ce27f36ab892a8093196ab59daa4c"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a7e4ce27f36ab892a8093196ab59daa4c">pexpect.spawnbase.SpawnBaseUnicode._decoder</a></div><div class="ttdeci">_decoder</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00486">spawnbase.py:486</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a6c38076a1259ff17b230066e77f0c3de"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a6c38076a1259ff17b230066e77f0c3de">pexpect.spawnbase.SpawnBase.delaybeforesend</a></div><div class="ttdeci">delaybeforesend</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00072">spawnbase.py:72</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a669cf3b2a42313556276c3f5cc7e0525"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a669cf3b2a42313556276c3f5cc7e0525">pexpect.spawnbase.SpawnBase.readlines</a></div><div class="ttdeci">def readlines</div><div class="ttdoc">This reads until EOF using readline() and returns a list containing the lines thus read...</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00433">spawnbase.py:433</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_aa5b0cf1a877881893628a1e480bdc67b"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#aa5b0cf1a877881893628a1e480bdc67b">pexpect.spawnbase.SpawnBase.expect_loop</a></div><div class="ttdeci">def expect_loop</div><div class="ttdoc">This is the common loop used inside expect. </div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00363">spawnbase.py:363</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a9fc071989185f0e9fcbd418142455b7e"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a9fc071989185f0e9fcbd418142455b7e">pexpect.spawnbase.SpawnBase.stdout</a></div><div class="ttdeci">stdout</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00041">spawnbase.py:41</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a4465eaf67d3b36f5114b5bc7b670c0fd"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a4465eaf67d3b36f5114b5bc7b670c0fd">pexpect.spawnbase.SpawnBase.timeout</a></div><div class="ttdeci">timeout</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00057">spawnbase.py:57</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a5eb06c1a10c8ea46840462d3ef5d9336"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a5eb06c1a10c8ea46840462d3ef5d9336">pexpect.spawnbase.SpawnBase.expect_exact</a></div><div class="ttdeci">def expect_exact</div><div class="ttdoc">This is similar to expect(), but uses plain string matching instead of compiled regular expressions i...</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00328">spawnbase.py:328</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a1d5363dcca6ab21a0e5f108fc10d4a1e"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a1d5363dcca6ab21a0e5f108fc10d4a1e">pexpect.spawnbase.SpawnBase.logfile_send</a></div><div class="ttdeci">logfile_send</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00063">spawnbase.py:63</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a790d597afb11bdd5042c29aa3026ee13"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a790d597afb11bdd5042c29aa3026ee13">pexpect.spawnbase.SpawnBase._log</a></div><div class="ttdeci">def _log(self, s, direction)</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00083">spawnbase.py:83</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a813cc45a9e0d274379ba12f77866ae0b"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a813cc45a9e0d274379ba12f77866ae0b">pexpect.spawnbase.SpawnBase._coerce_read_string</a></div><div class="ttdeci">def _coerce_read_string(s)</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00105">spawnbase.py:105</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_abeba27d095143d43c1684a227281654b"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#abeba27d095143d43c1684a227281654b">pexpect.spawnbase.SpawnBase._coerce_send_string</a></div><div class="ttdeci">def _coerce_send_string(s)</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00099">spawnbase.py:99</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_af9aedec827586d61bcd6251f1eff8bd3"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#af9aedec827586d61bcd6251f1eff8bd3">pexpect.spawnbase.SpawnBase.fileno</a></div><div class="ttdeci">def fileno(self)</div><div class="ttdoc">Expose file descriptor for a file-like interface. </div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00446">spawnbase.py:446</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_unicode_html"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html">pexpect.spawnbase.SpawnBaseUnicode</a></div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00469">spawnbase.py:469</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a080b799c4a7577639ff1b845f222f85f"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a080b799c4a7577639ff1b845f222f85f">pexpect.spawnbase.SpawnBase._pattern_type_err</a></div><div class="ttdeci">def _pattern_type_err(self, pattern)</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00134">spawnbase.py:134</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_unicode_html_a67d0216c7970a44fb9a54ffd387e9d2a"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base_unicode.html#a67d0216c7970a44fb9a54ffd387e9d2a">pexpect.spawnbase.SpawnBaseUnicode._coerce_expect_string</a></div><div class="ttdeci">def _coerce_expect_string(s)</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00490">spawnbase.py:490</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a2d3f05392d1d43ce1ccc86d42340850e"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a2d3f05392d1d43ce1ccc86d42340850e">pexpect.spawnbase.SpawnBase.delayafterclose</a></div><div class="ttdeci">delayafterclose</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00075">spawnbase.py:75</a></div></div>
<div class="ttc" id="classpexpect_1_1spawnbase_1_1_spawn_base_html_a600823f23d698102453cdf5cdbf1080a"><div class="ttname"><a href="classpexpect_1_1spawnbase_1_1_spawn_base.html#a600823f23d698102453cdf5cdbf1080a">pexpect.spawnbase.SpawnBase.before</a></div><div class="ttdeci">before</div><div class="ttdef"><b>Definition:</b> <a href="spawnbase_8py_source.html#l00046">spawnbase.py:46</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_a1f7e6e94f09aed1a9ad88b1d0323359.html">blackjack</a></li><li class="navelem"><a class="el" href="dir_b7c98b4e5c1cf18f341e43c8433f4938.html">contrib</a></li><li class="navelem"><a class="el" href="dir_d00f86eeef07be2b2f27804557a2d0f8.html">x_pexpect</a></li><li class="navelem"><a class="el" href="dir_5aa035405e536d7d06f420b2e261d861.html">pexpect</a></li><li class="navelem"><a class="el" href="spawnbase_8py.html">spawnbase.py</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
